<html ng-app>
  <head>
    <link rel="stylesheet" type="text/css" href="/static/styles.css">
    <style>
      .node {
        cursor: pointer;
      }

      .node circle {
        fill: #fff;
        stroke: #2ba6cb;
        stroke-width: 3px;
      }

      .node text {
        font: 12px sans-serif;
      }

      .link {
        fill: none;
        stroke: #ccc;
        stroke-width: 2px;
      }

      .choosen{
        fill: #2ba6cb;
      }

      .newly{
        stroke: rgb(228, 124, 27); /* change to Hexadecimal*/
      }

      .goal{
        fill: green;
      }

      .visited{
        stroke: black;
      }

    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script type="text/javascript" src="/static/js/EventSource.js"></script>
    <script type="text/javascript" src="/static/js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="/static/js/brython.min.js"></script>
    <script type="text/javascript" src="/static/js/brython_stdlib.min.js"></script>
    <script src="/static/js/renderGraph.js" defer></script>
  </head>
  <body onload="brython({pythonpath: ['/static/py']})">

    <div class="top-bar">
      <div class="title-bar">
        <h1><a href="http://github.com/simpleai-team/simpleai" target="_blank">SimpleAI</a></h1>
      </div>
      <div class="nav-bar">
        <ul>
          <li><a class="control-algorithm-btn" data-action="play" href="#">Play</a></li>
          <li><a class="control-algorithm-btn" data-action="step" href="#">Step</a></li>
          <li><a class="control-algorithm-btn" data-action="pause" href="#">Pause</a></li>
          <li><a class="control-algorithm-btn" data-action="stop" href="#">Stop running</a></li>
          <li>|</li>
          <li><a class="show-tab-btn" data-tab="graph" href="#">Graph</a></li>
          <li><a class="show-tab-btn" data-tab="log" href="#">Log</a></li>
          <li><a class="show-tab-btn" data-tab="stats" href="#">Stats</a></li>
          <li><a class="show-tab-btn" data-tab="help" href="#">Help</a></li>
        </ul>
      </div>
    </div>

    <div class="content">
      <div id="tab-help" class="tab text_tab">
        <h2>Welcome to the SimpleAI execution web viewer</h2>
        <p>On the top bar you have links to control the execution of the algorithm, and links to switch between the graph view, the log view, the stats view, and this help view. You can also press following keys to control execution: [e] Play, [enter] Step, [p] Pause and [q] Stop running.</p>
        <p>On the bottom bar you have information about the current step (hover with your mouse over it to see more details).</p>
        <p>You can also zoom and pan on the graph view using your mouse wheel and buttons. To restore to the original zoom, click again on the "Graph" link.</p>
        <p>The colors of the nodes on the graph have special meanings:</p>
        <ul>
          <li><p><strong>Blue border, white background:</strong> nodes that are currently part of the fringe (waiting to be visited).</p></li>
          <li><p><strong>Blue border, blue background:</strong> current node, being analyzed or expanded.</p></li>
          <li><p><strong>Orange border, white background:</strong> newly created nodes, after expanding a parent node.</p></li>
          <li><p><strong>Black border, green background:</strong> the solution node (goal for traditional search, or best node for local search).</p></li>
          <li><p><strong>Black border, white background:</strong> the rest of the nodes kept in memory, needed to keep the search tree from the fringe to the initial node.</p></li>
        </ul>
        <p>Happy debugging!</p>
      </div>

      <div id="tab-graph" class="tab text_tab">
        <span id="graph-image"></span>
      </div>

      <div id="tab-log" class="tab text_tab">
        <span id="log-display"></span>
      </div>

      <div id="tab-stats" class="tab text_tab">
        <span id="stats-display"></span>
      </div>

    </div>

    <div class="bottom-bar">
      <span id="last-event-display"></span>
    </div>

    <script type="text/python">
        from web_viewer_client import WebViewerClient
        wv_client = WebViewerClient()
    </script>
  </script>
  </body>
</html>
